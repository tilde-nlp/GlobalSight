# For GBS-1302: Add an interim table to record activity information for the activity dashboard
CREATE TABLE TASK_INTERIM
(
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  TASK_ID BIGINT,
  ACTIVITY_NAME VARCHAR(40),
  STATE VARCHAR(50) NOT NULL CHECK(STATE IN ('ACTIVE','ACCEPTED','TRIGGERED')),
  USER_ID VARCHAR(80) NOT NULL
) AUTO_INCREMENT = 1000;

CREATE INDEX INDEX_STATE_USER_ID ON TASK_INTERIM(STATE,USER_ID);
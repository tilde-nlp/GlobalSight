-- #537 Rates: percentage values instead of absolute amounts
ALTER TABLE RATE ADD COLUMN EXACT_CONTEXT_RATE_PER float NOT NULL DEFAULT 0;
ALTER TABLE RATE ADD COLUMN IN_CONTEXT_MATCH_RATE_PER float NOT NULL DEFAULT 0;
ALTER TABLE RATE ADD COLUMN FUZZY_HI_RATE_PER float NOT NULL DEFAULT 0;
ALTER TABLE RATE ADD COLUMN FUZZY_LOW_RATE_PER float NOT NULL DEFAULT 0;
ALTER TABLE RATE ADD COLUMN FUZZY_MED_RATE_PER float NOT NULL DEFAULT 0;
ALTER TABLE RATE ADD COLUMN FUZZY_MED_HI_RATE_PER float NOT NULL DEFAULT 0;
ALTER TABLE RATE ADD COLUMN EXACT_SEGMENT_TM_RATE_PER float NOT NULL DEFAULT 0;
ALTER TABLE RATE ADD COLUMN NO_MATCH_REPETITION_RATE_PER float NOT NULL DEFAULT 0;
COMMIT;

-- Update index for CVS module mapping function
DROP INDEX SOURCE_LOCALE ON MODULE_MAPPING;
ALTER TABLE MODULE_MAPPING ADD UNIQUE INDEX SOURCE_LOCALE(SOURCE_LOCALE,SOURCE_MODULE,TARGET_LOCALE,TARGET_MODULE,USER_ID);
COMMIT;


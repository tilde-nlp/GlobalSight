# GBS-3822 	stash connector (only).

CREATE TABLE CONNECTOR_GIT(
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  NAME VARCHAR(300) NOT NULL,
  DESCRIPTION VARCHAR(4000) NULL,
  URL VARCHAR(300) NOT NULL,
  BRANCH VARCHAR(100) NULL DEFAULT 'master',
  USER_NAME VARCHAR(300) NOT NULL,
  PASSWORD VARCHAR(300) NOT NULL,
  PRIVATE_KEY_FILE VARCHAR(300) NOT NULL,
  IS_ACTIVE CHAR(1) NOT NULL CHECK (IS_ACTIVE IN ('Y', 'N')),
  COMPANY_ID BIGINT(20) UNSIGNED NOT NULL
) ENGINE=INNODB;

CREATE TABLE CONNECTOR_GIT_JOB(
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  GIT_CONNECTOR_ID BIGINT,
  JOB_ID BIGINT
) ENGINE=INNODB;

CREATE TABLE CONNECTOR_GIT_FILE_MAPPING(
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  SOURCE_LOCALE VARCHAR(30) NOT NULL,
  SOURCE_MAPPING_PATH VARCHAR(300) NOT NULL,
  TARGET_LOCALE VARCHAR(30) NOT NULL,
  TARGET_MAPPING_PATH VARCHAR(300) NOT NULL,
  GIT_CONNECTOR_ID BIGINT,
  PARENT_ID BIGINT,
  IS_ACTIVE CHAR(1) NOT NULL CHECK (IS_ACTIVE IN ('Y', 'N')),
  COMPANY_ID BIGINT(20) UNSIGNED NOT NULL
) ENGINE=INNODB;

CREATE TABLE CONNECTOR_GIT_CACHE_FILE(
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  FILE_PATH VARCHAR(300) NOT NULL,
  GIT_CONNECTOR_ID BIGINT
) ENGINE=INNODB;